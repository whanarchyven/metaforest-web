---
version: "3.8"

services:
  frontend:
    image: "${DOCKER_REGISTRY_HOSTNAME}/meta-forest/web-app/frontend/production:latest"
    labels:
      - "traefik.http.routers.meta-forest-web-app-frontend.rule=Host(`mfgame.org`)||Host(`www.mfgame.org`)"
      - "traefik.http.routers.meta-forest-web-app-frontend.entrypoints=web,websecure"

      - "traefik.http.routers.meta-forest-web-app-frontend.tls.certresolver=http-cert"
      - "traefik.http.routers.meta-forest-web-app-frontend.tls.domains[0].main=mfgame.org"
      - "traefik.http.routers.meta-forest-web-app-frontend.tls.domains[0].sans=www.mfgame.org"
      - "traefik.http.routers.meta-forest-web-app-frontend.tls=true"
    deploy:
      labels:
        - "traefik.http.routers.meta-forest-web-app-frontend.rule=Host(`mfgame.org`)||Host(`www.mfgame.org`)"
        - "traefik.http.routers.meta-forest-web-app-frontend.entrypoints=web,websecure"

        - "traefik.http.routers.meta-forest-web-app-frontend.tls=true"
        - "traefik.http.routers.meta-forest-web-app-frontend.tls.certresolver=http-cert"
        - "traefik.http.routers.meta-forest-web-app-frontend.tls.domains[0].main=mfgame.org"
        - "traefik.http.routers.meta-forest-web-app-frontend.tls.domains[0].sans=www.mfgame.org"
...
